# Подвицкий Никита Артёмович БПИ-212 ВАРИАНТ 11.

Задание выполнено на оценку 6.


Оценка 4:
В больнице есть два дежурных врача, которые принимают пациентов. 
Каждый врач может одновременно принимать только одного пациента. 
Пациенты стоят в очереди к врачам и никогда не уходят. 
В больнице есть три вида специалистов, к которым врачи могут направить пациента: стоматолог, хирург или терапевт. 
Специалисты лечат пациентов и отправляют их обратно к врачам. 
Каждый пациент - это отдельная сущность, а каждый врач и специалист - отдельный процесс. 
Программа имитирует рабочий день клиники, создавая консольное приложение, в котором один родительский процесс запускает необходимое количество дочерних процессов.

Код создает консольное приложение, в котором один родительский процесс запускает необходимое количество дочерних процессов. 
Родительский процесс создает общую память и семафоры для взаимодействия между процессами. 
Затем он создает четыре процесса: два врача, стоматолог, хирург и терапевт.
Каждый процесс врача ожидает пациента, ожидая сигнала на семафоре врача. 
Когда пациент прибывает, процесс врача осматривает пациента и направляет его к специалисту, подавая сигнал на соответствующий семафор. 
Затем специалист лечит пациента и отправляет его обратно к врачу, снова подавая сигнал на семафор врача.
Процессы стоматолога, хирурга и терапевта ожидают пациентов, ожидая сигналов на соответствующих семафорах.
Когда пациент прибывает, они лечат пациента и отправляют его обратно к врачу, подавая сигнал на семафор врача.
Главный процесс имитирует прибытие пациентов, ожидая фиксированное количество времени, а затем назначая каждого нового пациента врачу и специалисту. 
Затем он подает сигнал на семафор врача, чтобы тот принял пациента.
Программу можно остановить, прервав ее соответствующим сигналом с клавиатуры. После завершения работы программы семафоры и общая память удаляются.

Оценка 5:
Для реализации межпроцессного взаимодействия и синхронизации мы будем использовать неименованные семафоры POSIX в общей памяти. 
Обмен данными также будет осуществляться через общую память.

Оценка 6:
Чтобы смоделировать этот сценарий, мы создадим два процесса для врачей и несколько процессов для пациентов. 
У каждого процесса будет своя очередь пациентов, и они будут взаимодействовать с помощью семафоров в стандарте UNIX SYSTEM V.
Обмен данными будет осуществляться через общую память в стандарте UNIX SYSTEM V.
- Мы определяем семафоры и разделяемую память с помощью semget(), semctl(), shmget() и shmat().
- Мы определяем обработчик сигналов прерывания и устанавливаем соответствующий сигнал с помощью signal().
- Мы определяем функцию doctor(), которая принимает целочисленный аргумент, представляющий идентификатор врача. 
Сначала врач ждет, пока пациенты зайдут в его очередь. 
Как только в его очереди появляются пациенты, он принимает пациента и обновляет свою очередь. 
Если врач принял 10 пациентов, он выходит из программы и очищает семафоры и общую память.
- Мы определяем функцию patient(), которая генерирует случайного специалиста и ждет случайное количество времени, прежде чем попасть к нему на прием. 
Затем пациент обновляет свою очередь и присоединяется к очереди дежурного врача. 
Если все врачи заняты, пациент покидает клинику.
- В функции main() мы сначала определяем семафоры и общую память. 
Затем мы определяем очередь пациентов для каждого врача и инициализируем ее в 0. 
Затем мы создаем 10 процессов пациентов и 2 процесса врачей с помощью функции fork().
- Наконец, мы ждем неопределенное время в родительском процессе, пока не будет получен сигнал прерывания. 
Когда сигнал прерывания получен, мы очищаем семафоры и общую память с помощью emctl() и shmctl().
